(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){e.exports=a(156)},156:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),c=a.n(l),o=a(32),i=a(28),u=a(59),m=a(83),s=a(20),E=a(70),f=a(84),d=a.n(f),p=a(85),g=a(86),h=Object(s.combineReducers)({hasErrored:function(e,t){switch(void 0===e&&(e=""),t.type){case"HAS_ERRORED":return t.payload;default:return e}},items:function(e,t){switch(void 0===e&&(e={}),t.type){case"FETCH_DATA":return t.payload;default:return e}},isLoading:function(e,t){switch(void 0===e&&(e=!0),t.type){case"IS_LOADING":return t.payload;default:return e}},amount:function(e,t){switch(void 0===e&&(e=12),t.type){case"SET_AMOUNT":return t.payload;default:return e}},page:function(e,t){switch(void 0===e&&(e=1),t.type){case"CHANGE_PAGE":return t.payload;default:return e}},filter:function(e,t){switch(void 0===e&&(e={status:!1,date:[]}),t.type){case"FILTERED":return Object.assign({},e,{status:t.payload.status,date:t.payload.date});default:return e}}}),y={key:"root",storage:d.a,whitelist:["amount"]},v=Object(E.a)(y,h),w=Object(s.createStore)(v,{hasErrored:!1,isLoading:!0,items:{},amount:12,user:{},cart:[],page:1,filter:{status:!1,date:[]}},Object(g.composeWithDevTools)(Object(s.applyMiddleware)(p.a))),b=Object(E.b)(w),k=a(192),A=a(193),F=a(96),O=a(45),j=a(186),C=a(187),N=a(188),T=a(189),I=a(190),S=a(179),D=a(191),x=a(195),G=a(185),L=a(158),P=a(94),R=a.n(P),_=a(180),H=a(181),U=a(182),B=a(87),M=a.n(B),z=a(183),J=a(92),W=a(184),$=function(e){var t=r.a.useState([new Date,new Date]),a=Object(O.a)(t,2),n=a[0],l=a[1],c=r.a.useState(e.amount),o=Object(O.a)(c,2),i=o[0],u=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{variant:"h5",className:"ml-4 mt-4"},"Filters:"),r.a.createElement(_.a,null),r.a.createElement(H.a,null,r.a.createElement(U.a,null,r.a.createElement(S.a,null,"Amount items at one page:")),r.a.createElement(U.a,null,r.a.createElement(z.a,{className:"mb-2"},r.a.createElement(J.a,{type:"number",placeholder:i,"aria-label":"Item count","aria-describedby":"basic-addon2",onChange:function(e){return u(e.target.value)}}),r.a.createElement(z.a.Append,null,r.a.createElement(W.a,{onClick:function(t){return function(t){t.preventDefault(),e.setAmount(i)}(t)},variant:"outline-secondary"},"Set")))),r.a.createElement(_.a,null),r.a.createElement(U.a,null,r.a.createElement(S.a,null,"Filter by Date:")),r.a.createElement(U.a,{className:"mt-2"},r.a.createElement(M.a,{className:"ml-4",onChange:function(e){l(e)},value:n,clearIcon:null})),r.a.createElement(U.a,null,r.a.createElement(W.a,{variant:"outline-secondary",size:"sm",block:!0,onClick:function(t){return function(t){t.preventDefault();var a=[];n.map(function(e){return a.push(e.toISOString())}),e.setFilter(!0,a)}(t)}},"Filter")),r.a.createElement(U.a,null,r.a.createElement(W.a,{variant:"outline-secondary",size:"sm",block:!0,onClick:function(t){return function(t){t.preventDefault(),e.setFilter(!1,[])}(t)}},"Clear Filter"))))},q=Object(L.a)(function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},list:{width:300}}});function K(e){var t=e.children,a=e.window,n=Object(G.a)({target:a});return r.a.createElement(j.a,{appear:!1,direction:"down",in:!n},t)}var Q=Object(o.d)(function(e){var t=r.a.useState(!1),a=Object(O.a)(t,2),n=a[0],l=a[1],c=q(),o=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&l(e)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,null),r.a.createElement(K,e,r.a.createElement(N.a,null,r.a.createElement(T.a,null,r.a.createElement(I.a,{onClick:o(!0),className:c.menuButton,edge:"start",color:"inherit","aria-label":"Menu"},r.a.createElement(R.a,null)),r.a.createElement(S.a,{variant:"h6",className:c.title},"Book Shop"),r.a.createElement(D.a,{color:"inherit"},"Cart")))),r.a.createElement(T.a,null),e.children,r.a.createElement(x.a,{open:n,onClose:o(!1)},r.a.createElement("div",{className:c.list,role:"presentation"},r.a.createElement($,{amount:e.amount,setAmount:e.setAmount,setFilter:e.setFilter,getFilteredItems:e.getFilteredItems}))))}),V=a(194),X=function(){return r.a.createElement(k.a,null,r.a.createElement(A.a,{className:"text-center"},r.a.createElement(F.a,null,r.a.createElement(V.a,{animation:"grow",variant:"primary"}),r.a.createElement(V.a,{animation:"grow",variant:"secondary"}),r.a.createElement(V.a,{animation:"grow",variant:"success"}),r.a.createElement(V.a,{animation:"grow",variant:"danger"}),r.a.createElement(V.a,{animation:"grow",variant:"warning"}),r.a.createElement(V.a,{animation:"grow",variant:"info"}),r.a.createElement(V.a,{animation:"grow",variant:"dark"}))))},Y=a(197),Z=a(196),ee=function(e){return e.items.length?e.items.map(function(e){return r.a.createElement(F.a,{lg:3},r.a.createElement(Y.a,{className:"text-center mb-3"},null!==e.fileUrl&&void 0!==e.fileUrl&&""!==e.fileUrl?r.a.createElement(Y.a.Img,{variant:"top",height:"300px",src:"/uploads/"+e.fileUrl}):"",r.a.createElement(Y.a.Body,null,r.a.createElement(Y.a.Title,null,e.title),r.a.createElement(Y.a.Text,null,e.author," ",e.author&&e.bookyear?"-":""," ",e.bookyear)),r.a.createElement(Y.a.Footer,null,r.a.createElement(W.a,{variant:"outline-primary"},"Add - $",e.price),r.a.createElement(Z.a.Text,{className:"text-muted"},e.createdAt))))}):r.a.createElement("h1",null,"have no items")},te=a(198),ae=function(e){for(var t=[],a=1;a<=Math.ceil(e.items.count/e.amount);a++)t.push(a);var n=t[t.length-1],l=function(a){if(a>t.length||a<t[0])return!1;e.changePage(a)};return r.a.createElement(te.a,null,r.a.createElement(te.a.First,{onClick:function(){return l(1)}}),r.a.createElement(te.a.Prev,{onClick:function(){return l(e.page-1)}}),t.map(function(t){return r.a.createElement(te.a.Item,{active:e.page===t,key:t,onClick:function(){return l(t)}},t)}),r.a.createElement(te.a.Next,{onClick:function(){return l(e.page+1)}}),r.a.createElement(te.a.Last,{onClick:function(){return l(n)}}))},ne=function(e){return r.a.createElement(k.a,null,r.a.createElement(A.a,null,r.a.createElement(ee,{items:e.items.rows})),r.a.createElement(A.a,{className:"justify-content-center"},r.a.createElement(ae,{items:e.items,amount:e.amount,changePage:e.changePage,page:e.page})))},re=function(e){return r.a.useEffect(function(){e.filter.status?e.getFilteredItems(e.amount,e.page,e.filter.date[0],e.filter.date[1]):e.getItems(e.amount,e.page)},[e.page,e.filter,e.amount]),e.isLoading?r.a.createElement(Q,null,r.a.createElement(X,null)):r.a.createElement(Q,{amount:e.amount,setAmount:e.setAmount,setFilter:e.setFilter},r.a.createElement(k.a,{className:"mt-4"},r.a.createElement(A.a,null,r.a.createElement(F.a,null,r.a.createElement(ne,{items:e.items,amount:e.amount,changePage:e.changePage,page:e.page})))))};function le(e){return{type:"FETCH_DATA",payload:{rows:e.rows,count:e.count}}}function ce(e){return{type:"HAS_ERRORED",payload:e}}function oe(e){return{type:"IS_LOADING",payload:e}}function ie(e,t){return function(a){a(oe(!0)),fetch("/api/all/".concat(e,"/").concat(t),{method:"GET"}).then(function(e){if(!e.ok)throw new Error("error while getting items: "+e.statusText);return e.json()}).then(function(e){return a(le(e))}).catch(function(e){return a(ce(e))}).finally(function(){return a(oe(!1))})}}function ue(e,t,a,n){return function(r){r(oe(!0)),fetch("/api/filtered/".concat(e,"/").concat(t,"/").concat(a,"/").concat(n),{method:"GET"}).then(function(e){if(!e.ok)throw new Error("error while getting filtered items"+e.statusText);return e.json()}).then(function(e){return r(le(e))}).catch(function(e){return r(ce(e.toString()))}).finally(function(){return r(oe(!1))})}}function me(e){return{type:"SET_AMOUNT",payload:e}}function se(e){return{type:"CHANGE_PAGE",payload:e}}function Ee(e,t){return{type:"FILTERED",payload:{status:e,date:t}}}var fe=[{path:"/",component:Object(u.b)(function(e){return{hasErrored:e.hasErrored,isLoading:e.isLoading,items:e.items,amount:e.amount,user:e.user,cart:e.cart,page:e.page,filter:e.filter}},function(e){return Object(s.bindActionCreators)({getItems:ie,getFilteredItems:ue,setAmount:me,changePage:se,setFilter:Ee},e)})(re)}],de=function(){var e=fe.map(function(e,t){return r.a.createElement(o.a,{key:t,exact:!0,path:e.path,component:function(t){return r.a.createElement(e.component,t)}})});return r.a.createElement(o.c,null,e)},pe=Object(i.a)();c.a.render(r.a.createElement(u.a,{store:w},r.a.createElement(m.PersistGate,{loading:X,persistor:b},r.a.createElement(o.b,{history:pe},r.a.createElement(de,null)))),document.getElementById("root"))}},[[100,1,2]]]);
//# sourceMappingURL=main.963c99d9.chunk.js.map